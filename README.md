# labsforBASE
Лабораторные работы по Базам Данных  
Анциферов Никита 02261-ДБ  
Вариант 7. Учет наличия товара на складе
## ER-диаграмма
<img alt="diagramm" src="er.png" />



## Логическая модель по диаграмме
**Сущность "Склады"**

Ключевой атрибут: номер_склада (уникальный идентификатор)

Описательные атрибуты: фио_кладовщика (строка, обязательный)

**Сущность "Товары"**

Ключевой атрибут: код_товара (уникальный идентификатор)

Описательные атрибуты: наименование_товара (строка, обязательный), цена_за_единицу (число, обязательный)

**Сущность "Накладные"**

Ключевой атрибут: номер_накладной (уникальный идентификатор)

Описательные атрибуты:

дата_документа (дата, обязательный)

тип_накладной (перечисление: "приход", "расход", обязательный)

Атрибуты-связи: склад (внешний ключ к сущности "Склады", обязательный)

**Сущность "Позиции_накладных"**

Ключевой атрибут: идентификатор_позиции (уникальный идентификатор)

Описательные атрибуты: количество (целое число, обязательный, больше 0)


## Физическая модель
```mermaid
erDiagram
    СКЛАДЫ ||--o{ НАКЛАДНЫЕ : "склад → накладные"
    НАКЛАДНЫЕ ||--|{ ПОЗИЦИИ_НАКЛАДНЫХ : "накладная → позиции"
    ТОВАРЫ ||--o{ ПОЗИЦИИ_НАКЛАДНЫХ : "товар → позиции"

    СКЛАДЫ {
        int номер_склада PK "NOT NULL"
        varchar фио_кладовщика "NOT NULL"
    }

    НАКЛАДНЫЕ {
        int номер_накладной PK "NOT NULL"
        date дата_документа "NOT NULL"
        varchar тип_накладной "NOT NULL CHECK приход расход"
        int склад FK "NOT NULL"
    }

    ТОВАРЫ {
        int код_товара PK "NOT NULL"
        varchar наименование_товара "NOT NULL"
        decimal цена_за_единицу "NOT NULL CHECK >0"
    }

    ПОЗИЦИИ_НАКЛАДНЫХ {
        int идентификатор_позиции PK "NOT NULL"
        int накладная FK "NOT NULL"
        int товар FK "NOT NULL"
        int количество "NOT NULL CHECK >0"
    }
```
 **Описание физической модели:**
1. Таблицы и их назначение:
СКЛАДЫ - хранит информацию о складах

ТОВАРЫ - справочник товаров с ценами

НАКЛАДНЫЕ - документы прихода/расхода товаров

ПОЗИЦИИ_НАКЛАДНЫХ - детализация накладных по товарам

2. Типы данных:
INTEGER - для идентификаторов

VARCHAR(n) - для текстовых полей

DECIMAL - для цен

DATE - для дат

3. Ограничения целостности:
PRIMARY KEY - первичные ключи

FOREIGN KEY - внешние ключи

NOT NULL - обязательные поля

CHECK - проверочные ограничения
## 2 лабораторная
<img width="853" height="292" alt="image" src="https://github.com/user-attachments/assets/a1a56901-a51d-4cc4-a1f4-54a440bfae88" />
<img width="507" height="579" alt="image" src="https://github.com/user-attachments/assets/37f076f7-2bf7-4feb-8707-0eea06d9aae0" />
<img width="726" height="708" alt="image" src="https://github.com/user-attachments/assets/9e783e5c-6691-420f-9207-f17953fa8880" />
<img width="722" height="728" alt="image" src="https://github.com/user-attachments/assets/bb1ed36a-538d-4285-94c0-9a4bb3a549a2" />
<img width="968" height="737" alt="image" src="https://github.com/user-attachments/assets/46e9a356-ed54-4cb4-8152-34b19f822072" />
<img width="534" height="629" alt="image" src="https://github.com/user-attachments/assets/5eb342e5-9cd2-4ecf-9aeb-9057df12cbfe" />
**Запросы с JOIN**

1 документ
<img width="1253" height="589" alt="image" src="https://github.com/user-attachments/assets/57c77512-eddf-4485-b57f-ac7ca65aa26d" />
2 документ
<img width="1143" height="638" alt="image" src="https://github.com/user-attachments/assets/3722e9a8-f6c8-458c-ab50-f4520feb43c6" />

